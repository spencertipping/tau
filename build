#!/bin/bash
set -euo pipefail
cd "$(dirname "$0")"

which=${1:-eta0}

#-lpangocairo-1.0 -lpango-1.0 -lgobject-2.0 -lglib-2.0 -lharfbuzz -lcairo \
#-lxcb -lX11 -lGL -lX11-xcb \

exec \
  g++ $(<compile_flags.txt) -g -O0 try/$which.cc -o try/$which \
      -lboost_context -lzstd

# TODO: re-enable emsdk builds as below

#dev/emsdk em++ -Wno-parentheses -Wno-shift-count-overflow \
#  -std=c++20 -O3 -sASYNCIFY try/$which.cc -o try/$which.js &

#wait
